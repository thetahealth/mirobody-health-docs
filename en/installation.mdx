---
title: "Installation"
description: "Detailed installation instructions for Mirobody Health on various platforms"
---

## Installation Methods

Choose the installation method that best suits your needs:

<Tabs>
  <Tab title="Docker (Recommended)">
    Docker deployment is the recommended method for both development and production environments.

    ### Step 1: Install Docker

    <Tabs>
      <Tab title="macOS">
        Download and install [Docker Desktop for Mac](https://www.docker.com/products/docker-desktop):

        ```bash
        brew install --cask docker
        ```

        Start Docker Desktop from your Applications folder.
      </Tab>

      <Tab title="Linux">
        Install Docker Engine and Docker Compose:

        ```bash
        # Ubuntu/Debian
        curl -fsSL https://get.docker.com -o get-docker.sh
        sudo sh get-docker.sh
        
        # Add your user to docker group
        sudo usermod -aG docker $USER
        
        # Install Docker Compose
        sudo apt-get install docker-compose-plugin
        ```

        Log out and back in for group changes to take effect.
      </Tab>

      <Tab title="Windows">
        Install [Docker Desktop for Windows](https://www.docker.com/products/docker-desktop):

        1. Download the installer
        2. Run the installer
        3. Enable WSL 2 integration
        4. Restart your computer

        <Warning>
        Windows requires WSL 2 for optimal Docker performance.
        </Warning>
      </Tab>
    </Tabs>

    ### Step 2: Clone Repository

    ```bash
    git clone https://github.com/thetahealth/mirobody-health.git
    cd mirobody-health
    ```

    ### Step 3: Configure Environment

    Create your configuration files:

    ```bash
    cp .env.example .env
    cp config.yaml config.localdb.yaml
    ```

    Edit `.env` to set your environment:

    ```bash
    ENV=localdb
    ```

    Add at least one LLM API key to `config.localdb.yaml`:

    ```yaml
    # ============ LLM API Keys (At least one required) ============
    GOOGLE_API_KEY: ''      # For Gemini models
    OPENAI_API_KEY: ''      # For GPT models  
    OPENROUTER_API_KEY: ''  # For Claude, DeepSeek, and other models
    
    # ============ Agent Configuration ============
    MCP_TOOL_DIRS:
      - mirobody/pub/tools
      - mirobody/pub/tools_health
    
    MCP_RESOURCE_DIRS:
      - mirobody/pub/resources
    
    AGENT_DIRS:
      - mirobody/pub/agents
    ```

    ### Step 4: Deploy

    ```bash
    ./run.sh
    ```

    <Check>
    The deployment script will build and start all required services.
    </Check>
  </Tab>

  <Tab title="From Source">
    Build and run from source for development and customization.

    ### Step 1: Clone and Setup

    ```bash
    git clone https://github.com/thetahealth/mirobody-health.git
    cd mirobody-health
    
    # Create virtual environment
    python3.12 -m venv venv
    source venv/bin/activate
    ```

    ### Step 2: Install System Dependencies

    <Tabs>
      <Tab title="macOS">
        ```bash
        xcode-select --install
        brew install gcc gfortran fftw hdf5 openblas lapack
        ```
      </Tab>

      <Tab title="Linux (Ubuntu/Debian)">
        ```bash
        sudo apt install -y g++ gfortran build-essential \
          libfftw3-dev libhdf5-dev libblas-dev liblapack-dev
        ```
      </Tab>
    </Tabs>

    ### Step 3: Install Python Dependencies

    ```bash
    pip install mirobody -r requirements.txt
    ```

    ### Step 4: Install Node.js Dependencies

    ```bash
    npm install @antv/gpt-vis-ssr ws
    ```

    ### Step 5: Setup External Services

    Start PostgreSQL and Redis (using Docker for simplicity):

    ```bash
    docker-compose up -d postgres redis
    ```

    ### Step 6: Configure

    ```bash
    cp .env.example .env
    cp config.yaml config.localdb.yaml
    ```

    Edit `.env`:

    ```bash
    ENV=localdb
    ```

    Add at least one API key and database settings to `config.localdb.yaml`:

    ```yaml
    # ============ LLM API Keys (At least one required) ============
    GOOGLE_API_KEY: ''
    OPENAI_API_KEY: ''
    OPENROUTER_API_KEY: ''
    
    # ============ Database Configuration ============
    PG_HOST: 'localhost'
    PG_PORT: 5432
    PG_USER: ''
    PG_PASSWORD: ''
    PG_DBNAME: ''
    PG_SCHEMA: ''
    
    # ============ Redis Configuration ============
    REDIS_HOST: 'localhost'
    REDIS_PORT: 6379
    REDIS_DB: 0
    REDIS_PASSWORD: ''
    ```

    ### Step 7: Run

    ```bash
    python main.py
    ```

    <Check>
    Server should start on http://localhost:18080. If running under WSL, access from Windows via `http://localhost:18080`.
    </Check>
  </Tab>
</Tabs>

## Verify Installation

After installation, verify everything is working:

<Steps>
  <Step title="Check service health">
    ```bash
    curl http://localhost:18080/health
    ```

    Expected response:

    ```json
    {
      "status": "healthy",
      "version": "1.0.1",
      "services": {
        "database": "connected",
        "redis": "connected"
      }
    }
    ```
  </Step>

  <Step title="List available providers">
    ```bash
    curl http://localhost:18080/api/v1/pulse/providers
    ```

    Should return a list of available health providers.
  </Step>

  <Step title="Check logs">
    View application logs to ensure no errors:

    ```bash
    # Docker deployment
    docker-compose logs -f backend
    
    # Direct installation
    # Logs will be in the terminal where you ran main.py
    ```
  </Step>
</Steps>

## Post-Installation Setup

<AccordionGroup>
  <Accordion title="Configure Data Providers" icon="key">
    To enable health device integrations, you need OAuth credentials from each provider.

    See the [Configuration guide](/configuration) for detailed instructions on obtaining and setting up OAuth credentials for:
    - Garmin Connect
    - Whoop
    - Custom providers
  </Accordion>

  <Accordion title="Set up AI Chat & Agents" icon="robot">
    To enable AI features, add at least one API key to `config.localdb.yaml`:

    ```yaml
    # ============ LLM API Keys (At least one required) ============
    GOOGLE_API_KEY: ''      # For Gemini models
    OPENAI_API_KEY: ''      # For GPT models
    OPENROUTER_API_KEY: ''  # For Claude, DeepSeek, and other models
    
    # ============ Agent Configuration ============
    MCP_TOOL_DIRS:
      - mirobody/pub/tools
      - mirobody/pub/tools_health
    
    MCP_RESOURCE_DIRS:
      - mirobody/pub/resources
    
    AGENT_DIRS:
      - mirobody/pub/agents
    ```

    <Info>
    Mirobody Health includes two agent types:
    - **DeepAgent** (LangChain-based): Best for complex tasks, file operations, multi-step planning
    - **BaselineAgent** (Native Gemini): Best for simple conversations, lightweight MCP integration
    
    See [Tools Overview](/en/tools/overview) for configuration details.
    </Info>
  </Accordion>

  <Accordion title="Configure Database Encryption" icon="lock">
    For production, set secure encryption keys:

    ```yaml
    DATABASE_DECRYPTION_KEY: 'your_32_char_encryption_key'
    JWT_KEY: 'your_secure_jwt_secret'
    ```

    <Warning>
    Use strong, randomly generated keys in production. Never commit these to version control.
    </Warning>
  </Accordion>

  <Accordion title="Set up Cloud Storage (Optional)" icon="cloud">
    Configure S3-compatible storage for data backups:

    ```yaml
    S3_KEY: 'your_access_key'
    S3_TOKEN: 'your_secret_key'
    S3_REGION: 'us-east-1'
    S3_BUCKET: 'your-bucket-name'
    ```
  </Accordion>
</AccordionGroup>

## Directory Structure

After installation, your directory structure will look like this:

```
mirobody-health/
├── mirobody/                  # Main application package
│   ├── chat/                 # Chat and agent services
│   ├── mcp/                  # MCP protocol implementation
│   ├── pulse/                # Health data providers
│   │   ├── theta/           # OAuth providers (Garmin, Whoop, etc.)
│   │   ├── apple/           # Apple Health platform
│   │   ├── core/            # Core health data services
│   │   └── file_parser/     # File processing handlers
│   ├── pub/                  # Public tools and agents
│   │   ├── tools/           # General-purpose MCP tools
│   │   ├── tools_health/    # Health-specific MCP tools
│   │   ├── resources/       # MCP resources
│   │   └── agents/          # Agent implementations
│   ├── server/               # HTTP server
│   ├── user/                 # User authentication
│   └── utils/                # Utilities
├── database/                  # Database schemas and migrations
│   └── resource/             # SQL initialization files
├── image/                     # Logo and branding assets
├── compose.yaml              # Docker Compose configuration
├── config.yaml               # Base configuration (immutable)
├── config.localdb.yaml       # Your environment configuration
├── .env                      # Environment variables
├── main.py                   # Application entry point
├── requirements.txt          # Python dependencies
├── package.json              # Node.js dependencies
├── run.sh                    # Deployment script
└── README.md                 # Documentation
```

## Troubleshooting Installation

<AccordionGroup>
  <Accordion title="Docker installation fails" icon="docker">
    **Problem**: Docker commands fail with permission errors.

    **Solution**:
    ```bash
    # Linux: Add user to docker group
    sudo usermod -aG docker $USER
    
    # Log out and back in
    newgrp docker
    ```
  </Accordion>

  <Accordion title="Port conflicts" icon="network-wired">
    **Problem**: Port 18080 is already in use.

    **Solution**: Change the port in `config.localdb.yaml`:
    ```yaml
    HTTP_PORT: 18081  # Use any available port
    ```
  </Accordion>

  <Accordion title="Database connection fails" icon="database">
    **Problem**: Cannot connect to PostgreSQL.

    **Solutions**:
    1. Verify PostgreSQL is running:
       ```bash
       docker-compose ps postgres
       ```

    2. Check connection settings in `config.localdb.yaml`:
       ```yaml
       PG_HOST: db  # 'db' for Docker, 'localhost' for local install
       PG_PORT: 5432
       PG_USER: holistic_user
       PG_DBNAME: holistic_db
       ```

    3. Check database logs:
       ```bash
       docker-compose logs postgres
       ```
  </Accordion>

  <Accordion title="Python version mismatch" icon="python">
    **Problem**: Python 3.12 not available.

    **Solutions**:

    <Tabs>
      <Tab title="macOS">
        ```bash
        brew install python@3.12
        ```
      </Tab>

      <Tab title="Linux">
        ```bash
        # Ubuntu/Debian
        sudo add-apt-repository ppa:deadsnakes/ppa
        sudo apt-get update
        sudo apt-get install python3.12
        ```
      </Tab>

      <Tab title="Windows">
        Download from [python.org](https://www.python.org/downloads/) or use `pyenv`:
        ```bash
        pyenv install 3.12
        pyenv global 3.12
        ```
      </Tab>
    </Tabs>
  </Accordion>

  <Accordion title="Module import errors" icon="code">
    **Problem**: `ModuleNotFoundError` when running the application.

    **Solution**:
    ```bash
    # Ensure all dependencies are installed
    pip install -r requirements.txt
    
    # Install in development mode
    pip install -e .
    ```
  </Accordion>
</AccordionGroup>

## Uninstallation

<Tabs>
  <Tab title="Docker">
    Remove all containers, volumes, and images:

    ```bash
    # Stop and remove containers
    docker-compose down
    
    # Remove volumes (WARNING: This deletes all data)
    docker-compose down -v
    
    # Remove images
    docker-compose down --rmi all
    ```
  </Tab>

  <Tab title="Source Installation">
    ```bash
    # Deactivate virtual environment
    deactivate
    
    # Remove project directory
    cd ..
    rm -rf mirobody-health
    ```
  </Tab>
</Tabs>

## Next Steps

<CardGroup cols={2}>
  <Card title="Configuration" icon="gear" href="/en/configuration">
    Configure OAuth providers and customize settings
  </Card>
  <Card title="Quick Start" icon="rocket" href="/en/quickstart">
    Follow the quick start guide to test your installation
  </Card>
  <Card title="Architecture" icon="diagram-project" href="/en/concepts/architecture">
    Understand how Mirobody Health works
  </Card>
  <Card title="Development" icon="code" href="/en/development/setup">
    Set up your development environment
  </Card>
</CardGroup>
